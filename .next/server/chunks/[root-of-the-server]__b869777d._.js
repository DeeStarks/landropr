module.exports=[24361,(e,t,r)=>{t.exports=e.x("util",()=>require("util"))},93695,(e,t,r)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},70406,(e,t,r)=>{t.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},18622,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},24725,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},14747,(e,t,r)=>{t.exports=e.x("path",()=>require("path"))},22734,(e,t,r)=>{t.exports=e.x("fs",()=>require("fs"))},24868,(e,t,r)=>{t.exports=e.x("fs/promises",()=>require("fs/promises"))},10648,e=>{"use strict";var t=e.i(24868),r=e.i(14747),a=e.i(22734);let i=r.default.join(process.cwd(),"uploads");function n(e){if(!e||"root"===e)return i;let t=r.default.normalize(e).replace(/^(\.\.[\/\\])+/,"");return r.default.join(i,t)}function s(e){let t=r.default.relative(i,e);return""===t?"root":t}async function o(e=null){let a=n(e);try{let i=await t.default.readdir(a,{withFileTypes:!0}),n=[];for(let o of i)if(o.isFile()){let i=await t.default.stat(r.default.join(a,o.name));n.push({id:s(r.default.join(a,o.name)),name:o.name,originalName:o.name,size:i.size,compressedSize:i.size,type:"application/octet-stream",folderId:"root"===e?null:e,createdAt:i.birthtime})}return n.sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime())}catch(e){return console.error("Error reading files:",e),[]}}async function l(){async function e(a){let i=await t.default.readdir(a,{withFileTypes:!0}),n=[];for(let o of i){let i=r.default.join(a,o.name);if(o.isDirectory())n=n.concat(await e(i));else{let e=await t.default.stat(i);n.push({id:s(i),name:o.name,originalName:o.name,size:e.size,compressedSize:e.size,type:"application/octet-stream",folderId:"root"===s(a)?null:s(a),createdAt:e.birthtime})}}return n}try{return(await e(i)).sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime())}catch(e){return console.error("Error getting all files:",e),[]}}async function d(e){let a=n(e);try{let i=await t.default.stat(a);return{id:e,name:r.default.basename(e),originalName:r.default.basename(e),size:i.size,compressedSize:i.size,type:"application/octet-stream",folderId:"root"===s(r.default.dirname(a))?null:s(r.default.dirname(a)),createdAt:i.birthtime}}catch{return}}async function u(e,a){let i=n(e.folderId),s=r.default.join(i,e.name);await t.default.writeFile(s,a)}async function c(e){try{return await t.default.unlink(n(e)),!0}catch{return!1}}async function f(e=null){let a=n(e);try{let i=await t.default.readdir(a,{withFileTypes:!0}),n=[];for(let o of i)if(o.isDirectory()){let i=await t.default.stat(r.default.join(a,o.name));n.push({id:s(r.default.join(a,o.name)),name:o.name,parentId:"root"===e?null:e,createdAt:i.birthtime})}return n.sort((e,t)=>e.name.localeCompare(t.name))}catch(e){return console.error("Error reading folders:",e),[]}}async function p(e){let a=n(e);try{let i=await t.default.stat(a);if(!i.isDirectory())return;return{id:e,name:r.default.basename(e),parentId:"root"===s(r.default.dirname(a))?null:s(r.default.dirname(a)),createdAt:i.birthtime}}catch{return}}async function m(e){let a=n(e.parentId),i=r.default.join(a,e.name);await t.default.mkdir(i,{recursive:!0})}async function x(e){try{return await t.default.rm(n(e),{recursive:!0,force:!0}),!0}catch{return!1}}async function y(e){let t=[];if(!e||"root"===e)return t;let a=e;for(;a&&"root"!==a;){let e=await p(a);if(e){t.unshift(e);let i=r.default.dirname(a);a="."===i?"root":i}else break}return t}(0,a.existsSync)(i)||t.default.mkdir(i,{recursive:!0}).catch(console.error),e.s(["addFile",()=>u,"addFolder",()=>m,"deleteFile",()=>c,"deleteFolder",()=>x,"getAllFiles",()=>l,"getBreadcrumbs",()=>y,"getFile",()=>d,"getFiles",()=>o,"getFolder",()=>p,"getFolders",()=>f])},88947,(e,t,r)=>{t.exports=e.x("stream",()=>require("stream"))},27699,(e,t,r)=>{t.exports=e.x("events",()=>require("events"))},874,(e,t,r)=>{t.exports=e.x("buffer",()=>require("buffer"))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__b869777d._.js.map